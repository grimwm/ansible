# ----------------------------
# General configuration
# ----------------------------

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# ----------------------------
# Terminal Color Support
# ----------------------------

# Enable 256 color support
set -g default-terminal "screen-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

# Enable true color support
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*256col*:Tc"

# Set TERM environment variable
set -g default-terminal "tmux-256color"

# ----------------------------
# Key Bindings
# ----------------------------

# Use C-s as prefix
unbind C-b
set -g prefix C-s
bind C-s send-prefix

# Make 0 select window 10
bind 0 select-window -t :10

# Reload config with prefix + r
bind r source-file ~/.tmux.conf \; display-message "Config reloaded"

# New window in current directory
bind c new-window -c "#{pane_current_path}"

# Flip CTRL-% and CTRL-" key bindings
# CTRL-% now splits horizontally (was vertical)
bind % split-window -v -c "#{pane_current_path}"
# CTRL-" now splits vertically (was horizontal)
bind '"' split-window -h -c "#{pane_current_path}"

# Mouse support
set -g mouse on

# ----------------------------
# Status Bar Styling
# ----------------------------

# Overall status bar style (dark gray background)
set -g status-style 'bg=#3c3836 fg=#a89984'

# Left side: session name in orange on slightly lighter background
set -g status-left '#[bg=#504945,fg=#fe8019,bold] #S #[bg=#3c3836,fg=#504945]'
set -g status-left-length 20

# Right side: date/time
set -g status-right '#[fg=#fe8019]%Y-%m-%d #[fg=#d65d0e,bold]%H:%M '
set -g status-right-length 40

# Window list styling
set -g window-status-format ' #I:#W '
set -g window-status-current-format '#[bg=#fe8019,fg=#1d2021,bold] #I:#W '
set -g window-status-style 'fg=#a89984'
set -g window-status-separator ''

# Pane border styling
set -g pane-border-style 'fg=#504945'
set -g pane-active-border-style 'fg=#fe8019'

# Message styling (when you press prefix + :)
set -g message-style 'bg=#fe8019,fg=#1d2021,bold'

# ----------------------------
# Default Session
# ----------------------------

# Auto-rename sessions to hostname [#]
set-hook -g session-created 'run-shell "tmux rename-session \"$(hostname -s) [#{session_name}]\""'
